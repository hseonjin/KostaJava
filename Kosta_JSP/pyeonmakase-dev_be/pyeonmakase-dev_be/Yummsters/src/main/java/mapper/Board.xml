<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.board">
    <insert id="insertBoard" parameterType="Board" useGeneratedKeys="true" keyProperty="board_id">
        <![CDATA[
        insert into board (title, picture, content, nickname, food_category_id) values(#{title}, #{picture}, #{content}, #{nickname}, #{food_category_id})
        ]]>
    </insert>
	<select id="selectBoardListTop10" parameterType="Integer" resultType="Board">
		<![CDATA[
			select b.title,b.picture,b.recommand_count,sc.store_category_name
			from board b
			join board_store bs on b.board_id=bs.board.id
			join store_category sc on bs.store_category_id=sc.store_category_id
			group by b.board_id
			order by b.recommand_count desc
			limit 10;
		]]>
	</select>
	<select id="selectBoardOne" parameterType="Integer" resultType="Board">
		<![CDATA[
			select * from board where board_id=#{board_id}
		]]>
	</select>
</mapper>